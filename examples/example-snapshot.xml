<?xml version="1.0" encoding="UTF-8"?>
<!--
  dotMigrata Snapshot v2.0 - Simplified XML Format
  
  This snapshot defines a migration simulation with:
  - 4 factors affecting migration decisions
  - 2 cities with different characteristics
  - Population groups with both templates and generators
-->
<Snapshot xmlns="http://geomigrata.pages.dev/snapshot"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://geomigrata.pages.dev/snapshot ../schemas/snapshot.xsd"
          Version="2.0"
          Id="c8836553-be0c-42c5-be58-abbae82c6918"
          Status="Seed"
          CreatedAt="2025-11-14T05:26:05.7805660Z"
          Tick="0">

    <World Name="Example Migration Simulation">

        <!-- Factor Definitions: characteristics that influence migration -->
        <Factors>
            <Factor Id="pollution" Name="Pollution" Type="Negative" Min="0" Max="12" Transform="Linear"/>
            <Factor Id="transport" Name="Transport" Type="Positive" Min="0" Max="10" Transform="Linear"/>
            <Factor Id="income" Name="Avg. Income" Type="Positive" Min="0" Max="1000" Transform="Log"/>
            <Factor Id="security" Name="Security" Type="Positive" Min="0" Max="10"/>
        </Factors>

        <!-- Population Groups: templates and generators for creating persons -->
        <Population>
            <Group Id="young_people">

                <!-- Person template: creates 1 person with fixed attributes -->
                <Person Count="1" Willingness="0.5" Retention="0.3" Threshold="0.3"
                        Scaling="0.5" MinAttraction="10" Tags="template;young">
                    <Sensitivities>
                        <S Id="pollution" V="0.5"/>
                        <S Id="transport" V="0.5"/>
                        <S Id="income" V="0.1"/>
                        <S Id="security" V="0.8"/>
                    </Sensitivities>
                </Person>

                <!-- Generator: creates 100,000 persons with randomized attributes -->
                <Generator Count="100000" Seed="42">
                    <Sensitivities>
                        <!-- Range-based: random value between Min and Max -->
                        <S Id="pollution" Min="-7" Max="-3"/>
                        <S Id="transport" Min="3" Max="8"/>
                        <!-- Scale-based: random value scaled by factor -->
                        <S Id="income" Scale="0.7"/>
                        <S Id="security" Min="0.6" Max="0.9"/>
                    </Sensitivities>
                    <Willingness Min="0.5" Max="1.0"/>
                    <Retention V="0.1"/>
                    <Threshold Min="0" Max="0.5"/>
                    <Scaling Min="0.5" Max="1.5"/>
                    <MinAttraction V="10"/>
                    <Tags>generated;young</Tags>
                </Generator>

                <!-- Smaller generator with fixed attributes -->
                <Generator Count="100" Seed="132">
                    <Sensitivities>
                        <S Id="pollution" V="0.5"/>
                        <S Id="transport" V="0.5"/>
                        <S Id="income" V="0.1"/>
                        <S Id="security" V="0.8"/>
                    </Sensitivities>
                    <Willingness V="0.5"/>
                    <Retention V="0.3"/>
                    <Threshold V="0.3"/>
                    <Scaling V="0.5"/>
                    <MinAttraction V="10"/>
                    <Tags>fixed;young</Tags>
                </Generator>

            </Group>
        </Population>

        <!-- Cities with factor values and population assignments -->
        <Cities>
            <City Id="shanghai_cn" Name="Shanghai" Lat="31.2304" Lon="121.4737"
                  Area="6340.5" Capacity="30000000">
                <Factors>
                    <F Id="pollution" V="8"/>
                    <F Id="transport" V="7"/>
                    <F Id="income" V="900"/>
                    <F Id="security" V="4"/>
                </Factors>
                <Population>
                    <Ref Id="young_people"/>
                </Population>
            </City>

            <City Id="sydney_au" Name="Sydney" Lat="-33.8688" Lon="151.2093"
                  Area="12367.7" Capacity="6000000">
                <Factors>
                    <F Id="pollution" V="3"/>
                    <F Id="transport" V="8"/>
                    <F Id="income" V="850"/>
                    <F Id="security" V="9"/>
                </Factors>
                <Population>
                    <Ref Id="young_people"/>
                </Population>
            </City>
        </Cities>

    </World>
</Snapshot>